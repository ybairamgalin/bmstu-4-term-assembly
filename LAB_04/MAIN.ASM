STK SEGMENT PARA STACK 'STACK'
    DB 100H DUP(0)
STK ENDS

DSEG1 SEGMENT PARA PUBLIC 'DATA'
    DB 10H DUP(0)
DSEG1 ENDS

DSEG2 SEGMENT PARA PUBLIC 'DATA'
    DB 2H DUP(0)
DSEG2 ENDS

CSEG SEGMENT PARA 'CODE'
    ASSUME CS:CSEG, DS:DSEG1, SS:STK
MAIN:
    MOV AX, DSEG1
    MOV DS, AX    ; DS = DSEG1

    MOV CX, 5
L1:
    MOV AH, 01H
    INT 21H
    MOV BX, CX
    MOV [BX], AL
    LOOP L1

    MOV AH, [DS:0004] ; 2ND DIGIT
    MOV AL, [DS:0001] ; 5TH DIGIT

    ADD AL, AH
    ADD AL, -48

    ASSUME DS:DSEG2
    MOV BX, DSEG2
    MOV DS, BX

    MOV [DS:0001], AL

    MOV DL, 0AH ; PRINT NEW LINE
    MOV AH, 02H
    INT 21H

    MOV DL, [DS:0001] ; PRINT RESULT
    MOV AH, 02H
    INT 21H

    MOV AH, 4CH
    INT 21H ; STOP PROG
CSEG ENDS
END MAIN

